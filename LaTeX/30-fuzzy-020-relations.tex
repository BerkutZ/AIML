\documentclass[24pt,pdf,hyperref={unicode},aspectratio=169]{beamer}
\usepackage[utf8]{inputenc}
\usepackage{etex}
\usepackage{aiml}
\usepackage{ctable}
\usepackage{xifthen}
\usepackage{xparse}

\newcommand{\fuzzyimage}[2]{
\ifthenelse{\isempty{#2}}
{
\ifmmode{\begin{array}{c}\includegraphics[width=0.6cm]{HOMM5/#1.jpg}\end{array}}
\else{\includegraphics[width=0.6cm]{HOMM5/#1.jpg}}
\fi
}
{
\dfrac{#2}{\includegraphics[width=0.5cm]{HOMM5/#1.jpg}}
}
}

\newcommand{\da}{}
\DeclareDocumentCommand\da{O{}}{\fuzzyimage{dark}{#1}}
\newcommand{\de}{}
\DeclareDocumentCommand\de{O{}}{\fuzzyimage{destructive}{#1}}

\newcommand{\pe}{}
\DeclareDocumentCommand\pe{O{}}{\fuzzyimage{peasant}{#1}}
\newcommand{\wt}{}
\DeclareDocumentCommand\wt{O{}}{\fuzzyimage{wraith}{#1}}
\newcommand{\ga}{}
\DeclareDocumentCommand\ga{O{}}{\fuzzyimage{garg}{#1}}
\newcommand{\un}{}
\DeclareDocumentCommand\un{O{}}{\fuzzyimage{unicorn}{#1}}

\newcommand{\ar}{}
\DeclareDocumentCommand\ar{O{}}{\fuzzyimage{archer}{#1}}
\newcommand{\fo}{}
\DeclareDocumentCommand\fo{O{}}{\fuzzyimage{footman}{#1}}
\newcommand{\mo}{}
\DeclareDocumentCommand\mo{O{}}{\fuzzyimage{monk}{#1}}
\newcommand{\sk}{}
\DeclareDocumentCommand\sk{O{}}{\fuzzyimage{skeleton}{#1}}
\newcommand{\gh}{}
\DeclareDocumentCommand\gh{O{}}{\fuzzyimage{ghost}{#1}}
\newcommand{\lc}{}
\DeclareDocumentCommand\lc{O{}}{\fuzzyimage{lich}{#1}}

\newcommand{\aca}{}
\DeclareDocumentCommand\aca{O{}}{\fuzzyimage{academy}{#1}}
\newcommand{\hel}{}
\DeclareDocumentCommand\hel{O{}}{\fuzzyimage{inferno}{#1}}
\newcommand{\nec}{}
\DeclareDocumentCommand\nec{O{}}{\fuzzyimage{necropolis}{#1}}


\newcommand{\vc}{\centering\arraybackslash}

\begin{document}

\section{Отношения и отображения}

\begin{frame}\frametitle{Отношения и отображения}
\begin{columns}
\column{0.5\textwidth}
$
A=\{a_1,a_2, a_3\}$, 

$B=\{b_1,b_2,b_3\}$, 

$C=\{c_1,c_2\}$

$$
\rho\subset A \times B=
\begin{array}{l|l l l}
    & b_1 & b_2 & b_3 \\
\hline
a_1 &  0  &  1 & 0 \\
a_2 &  1  &  0 & 1 \\
a_3 &  0  &  0 & 0 \\
\end{array}
$$

$$
\sigma\subset B \times C =
\begin{array}{l|l l l}
    & c_1 & c_2 \\
\hline
b_1 &  1  &  0 \\
b_2 &  0  &  1 \\
b_3 &  0  &  1 \\
\end{array}
$$

\column{0.5\textwidth}

\only<1>{
$\rho(a)=\{ b\ :\ (a,b)\in\rho \}$\\[0.5cm]

$\rho(a_1)=\{ b_2 \}$

$\rho(a_2)=\{ b_1, b_3 \}$

$\rho(a_3)=\emptyset$\\[0.5cm]

$\sigma(b_1)=c_1$

$\sigma(b_2)=c_2$

$\sigma(b_3)=c_2$\\[0.5cm]

$\rho \ne \rho:A\rightarrow B$

$\sigma = \sigma:B\rightarrow C$
}

\only<2>{

$\sigma^{-1}=\{(c,b)\ :\ (b,c)\in\sigma\}$\\[0.5cm]

$\sigma^{-1}(c_1)=b_1$

$\sigma^{-1}(c_2)=\{b_2,b_3\}$\\[0.5cm]

$\rho^{-1}(b_1)=a_2$

$\rho^{-1}(b_2)=a_1$

$\rho^{-1}(b_3)=a_2$\\[0.5cm]

$\rho^{-1} = \rho^{-1}:A\rightarrow B$

$\sigma^{-1} \ne \sigma^{-1} :B\rightarrow C$
}

\only<3>{

$$
\begin{array}{l l}
\rho\circ\sigma=\{ & (a,c)\ :\ \exists b \\
& (a,b)\in\rho,\ (b,c)\in\sigma\}
\end{array}
$$

$$
\rho\circ\sigma=
\begin{array}{l|l l }
    & c_1 & c_2 \\
\hline
a_1 &  0  &  1  \\
a_2 &  1  &  1  \\
a_3 &  0  &  0  \\
\end{array}
$$


}
\end{columns}
\end{frame}

\begin{frame}[t]\frametitle{Нечеткие отношения}

$$
A\subset\mathbb{A},\ \rho\subset\mathbb{A}\times\mathbb{B}
$$
\only<2->{$$
\rho(A)=\{ b\in\mathbb{B}\ :\ \exists a\in A, (a,b)\in\rho\}
$$}
\only<3->{$$
= b\in\bigcup_{a\in\mathbb{A}}\{\underbrace{b,\ a\in A\wedge (a,b)\in\rho}_{\rho(A/a)\ne\rho(a)}\}
$$}
\only<4-7>{$$
b\in\rho(A/a)\Leftrightarrow a\in A\ \wedge\ (a,b)\in\rho
$$}
\only<5->{$$
M \fsubset \mathbb{M},\ \sigma\fsubset\mathbb{M}\times\mathbb{N}
$$}
\only<6-7>{$$
n\fin\sigma(M/m) = m\fin M\ \fwedge\ (m,n)\fin\sigma
$$}
\only<7-10>{$$
\mu_{\sigma(M/m)}(n)= T\left(\mu_{M}(m),\mu_{\sigma}(m,n)\right)
$$}
\only<8-10>{$$
\sigma(M)=\foperation{\bigcup_{m\in\mathbb{M}}}\sigma(M/m)
$$}
\only<9->{$$
\mu_{\sigma(M)}(n)=\underset{m\in\mathbb{M}}{S}\left[T\left(\mu_{M}(m),\mu_{\sigma}(m,n)\right)\right]
$$
\only<10->{$$
\mu_{\sigma(M)}(n)=\max_{m\in\mathbb{M}}\left[\mu_{M}(m)\mu_{\sigma}(m,n)\right]
$$}
}

\end{frame}

\begin{frame}\frametitle{Нечеткие отношения}
\begin{columns}[t]
\column{0.55\textwidth}
\uncover<2->{$$
\mathbb{M}=\left\{\da,\de\right\}
$$
$$
\mathbb{C}=\left\{\pe,\ga,\wt,\un\right\}
$$
$$
\rho\fsubset\mathbb{C}\times\mathbb{M}
$$
}
\uncover<3->{
$$
\begin{array}{ >\vc m{0.7cm}| >\vc m{0.7cm} >\vc m{0.7cm}}
$\rho$   & \de & \da \\
\hline
\vskip 1pt
\pe & 0.8 & 0.8 \\
\wt & 0.8 & 0.2 \\
\ga & 0.2 & 0.8 \\
\un & 0.2 & 0.2 
\end{array}
$$
}
\column{0.45\textwidth}
\only<4->{$$
\only<4-11,13->{\mu_{\rho(C)}(m)=\max_{c\in\mathbb{C}}\left[\mu_C(c) \mu_\rho(c,m)\right]}
\only<12>{\mu_{\rho(C)}(m)=\underset{c\in\mathbb{C}}{S}\left[\mu_C(c) \mu_\rho(c,m)\right]}
$$}
\only<5-7>{$
\rho\left(\wt[1]\right)=\left(\de[0.8]+\da[0.2]\right)
$}
\only<6-7>{$
\rho\left(\pe[1]\right)=\left(\de[0.8]+\da[0.8]\right)
$}
\only<7>{
$
\rho\left(\un[1]\right)=\left(\de[0.2]+\da[0.2]\right)
$
}
\only<8-10>{
$
\rho\left(\un[0.7]+\ga[0.3]\right)=
$
}
\only<9-10>{
$
\left(\begin{array}{l}
\de[\max(0.7\cdot0.2,0.3\cdot0.2)]\\
\\
\da[\max(0.7\cdot0.2,0.3\cdot 0.8)]
\end{array}\right)
$
}
\only<10>{
$
=\left(\de[0.16]+\da[0.24]\right)
$
}

\only<11>{
$
\rho\left(\un[0.8]+\ga[0.2]\right)=
$


$
\left(\begin{array}{l}
\de[\max(0.8\cdot0.2,0.2\cdot0.2)]\\
\\
\da[\max(0.8\cdot0.2,0.2\cdot 0.8)]
\end{array}\right)
$

$
=\left(\de[0.16]+\da[0.16]\right)
$
}

\only<12>{
$
\rho\left(\un[0.8]+\ga[0.2]\right)=
$


$
\left(\begin{array}{l}
\de[\begin{array}{l}0.8\cdot0.2+0.2\cdot0.2-\\-0.8\cdot0.2\cdot0.2\cdot0.2\end{array}]\\
\\
\da[\begin{array}{l}0.8\cdot0.2+0.2\cdot 0.8-\\-0.8\cdot0.2\cdot0.8\cdot0.2\end{array}]
\end{array}\right)
$

$
=\left(\de[0.1936]+\da[0.2944]\right)
$
}


\only<13-15>{
$
\rho\left(\ga[0.4]+\wt[0.5]\right)=
$
}
\only<14-15>{
$
\left(\begin{array}{l}
\de[\max(0.4\cdot0.2,0.5\cdot0.8)]\\
\\
\da[\max(0.4\cdot0.8,0.5\cdot 0.2)]
\end{array}\right)
$
}
\only<15>{
$
=\left(\de[0.4]+\da[0.32]\right)
$
}


\end{columns}
\end{frame}



\begin{frame}[t]\frametitle{Композиция нечетких отношений}
{\small
\begin{columns}[t]
\column{0.5\textwidth}
$$
\mathbb{M}
=\left\{\da,\de\right\}
$$
$$
\mathbb{C}=\left\{\pe,\ga,\wt,\un\right\}
$$
$$
\mathbb{H}
=\left\{\aca,\hel,\nec\right\}
$$
$$
\rho\fsubset\mathbb{C}\times\mathbb{M}
$$
$$
\begin{array}{ >\vc m{0.7cm}| >\vc m{0.7cm} >\vc m{0.7cm}}
$\rho$   & \de & \da \\
\hline
\vskip 1pt
\pe & 0.8 & 0.8 \\
\wt & 0.8 & 0.2 \\
\ga & 0.2 & 0.8 \\
\un & 0.2 & 0.2 
\end{array}
$$

\column{0.6\textwidth}
$$
\sigma\fsubset\mathbb{M}\times\mathbb{H}
$$
$$
\begin{array}{ >\vc m{0.7cm}| >\vc m{0.7cm} >\vc m{0.7cm} >\vc m{0.7cm} }
$\sigma$   & \aca & \hel & \nec \\
\hline
\vskip 1pt
\de & 0.5 & 0.7 & 0.3 \\
\da & 0.5 & 0.3 & 0.7 \\
\end{array}
$$
$$
\tau=\rho\circ\sigma
,\ \tau\fsubset\mathbb{M}\times\mathbb{H}
$$
$$
\begin{array}{ >\vc m{0.7cm}| >\vc m{0.7cm} >\vc m{0.7cm} >\vc m{0.7cm}}
$\tau$   & \aca & \hel & \nec \\
\hline
\vskip 1pt
\pe &  &  &  \\
\wt &  &  &  \\
\ga &  &  &  \\
\un &  &  &  \\ 
\end{array}
$$
\end{columns}
}
\end{frame}

\begin{frame}[t]\frametitle{Композиция нечетких отношений}
\begin{columns}[t]
\column{0.5\textwidth}
$$
\begin{array}{ >\vc m{0.7cm}| >\vc m{0.7cm} >\vc m{0.7cm}}
$\rho$   & \de & \da \\
\hline
\vskip 1pt
\pe & 0.8 & 0.8 \\
\wt & 0.8 & 0.2 \\
\ga & 0.2 & 0.8 \\
\un & 0.2 & 0.2 
\end{array}
$$

$$
\begin{array}{ >\vc m{0.7cm}| >\vc m{0.7cm} >\vc m{0.7cm} >\vc m{0.7cm} }
$\sigma$   & \aca & \hel & \nec \\
\hline
\vskip 1pt
\de & 0.5 & 0.7 & 0.3 \\
\da & 0.5 & 0.3 & 0.7 \\
\end{array}
$$
\column{0.5\textwidth}
$$
\tau=\rho\circ\sigma
$$
\only<2->{$$
\mu_\tau(c,h)=\max_{m\in\mathbb{M}}\left[\mu_\rho(c,m)\mu_\sigma(m,h)\right]
$$}
\only<3-4>{$
\mu_\tau\left(\wt,\hel\right)=
$ $
\max\left[0.8\cdot0.7,0.2\cdot0.3\right]=0.56
$\\[0.5cm]}
\only<4>{$
\mu_\tau\left(\wt,\nec\right)=
$ $
\max\left[0.8\cdot0.3,0.2\cdot0.7\right]=0.24
$}
\only<5->{$$
\begin{array}{ >\vc m{0.7cm}| >\vc m{0.7cm} >\vc m{0.7cm} >\vc m{0.7cm}}
$\tau$   & \aca & \hel & \nec \\
\hline
\vskip 1pt
\pe & \uncover<7->{0.4} & \uncover<8->{0.56} &  \uncover<9->{0.56} \\
\wt & \uncover<10->{0.4} & \uncover<10->{0.58} & \uncover<10->{0.24} \\
\ga & \uncover<11->{0.4} & \uncover<11->{0.24} & \uncover<11->{0.58} \\
\un & \uncover<12->{0.1} & \uncover<12->{0.14} & \uncover<12->{0.14} \\ 
\end{array}
$$
}
\end{columns}
\end{frame}

\end{document}
